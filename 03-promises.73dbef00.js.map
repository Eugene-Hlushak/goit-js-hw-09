{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAEMC,EAAOC,SAASC,cAAc,SACpCF,EAAKG,iBAAiB,UAyBtB,SAAkBC,GAChBA,EAAEC,iBAMF,IAJA,IAAIC,EAAQC,OAAOC,EAAW,GAAGC,OAC3BC,EAAOH,OAAOC,EAAW,GAAGC,OAC5BE,EAASJ,OAAOC,EAAW,GAAGC,OAE3BG,EAAW,EAAGA,GAAYD,EAAQC,GAAY,EACrDC,EAAcD,EAAWN,GAASI,GAC/BI,KAAKC,GACLC,MAAMC,E,IAjCb,IAAMT,EAAa,GAClBU,EAAApB,EAAA,CAAGE,EAAKmB,UAAUC,SAAQ,SAAAC,GACpBA,EAAMC,mBAGXd,EAAWe,KAAKF,EAAMC,kB,IAKxB,SAAST,EAAcD,EAAUN,GAC/B,OAAO,IAAIkB,SAAQ,SAACC,EAASC,GACdC,aAAY,WACDC,KAAKC,SAAW,GAEpCJ,EAAQ,CAAEb,WAAUN,UAEpBoB,EAAO,CAAEd,WAAUN,S,GAEpBA,E,IAkBP,SAASS,EAAUe,GACjBC,EAAAC,OAAOC,QACL,uBAA+CC,OAAtBJ,EAAOlB,SAAS,QAAmBsB,OAAbJ,EAAOxB,MAAM,M,CAGhE,SAASW,EAAQkB,GACfJ,EAAAC,OAAOI,QAAQ,sBAA2CF,OAArBC,EAAMvB,SAAS,QAAkBsB,OAAZC,EAAM7B,MAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', onSubmit);\n\nconst formInputs = [];\n[...form.children].forEach(child => {\n  if (!child.firstElementChild) {\n    return;\n  }\n  formInputs.push(child.firstElementChild);\n});\n\nlet intervalId = null;\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    intervalId = setInterval(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  let delay = Number(formInputs[0].value);\n  const step = Number(formInputs[1].value);\n  const amount = Number(formInputs[2].value);\n\n  for (let position = 1; position <= amount; position += 1) {\n    createPromise(position, (delay += step))\n      .then(onSuccess)\n      .catch(onError);\n  }\n}\n\nfunction onSuccess(result) {\n  Notify.success(\n    `✅ Fulfilled promise ${result.position} in ${result.delay}ms`\n  );\n}\nfunction onError(error) {\n  Notify.failure(`❌ Rejected promise ${error.position} in ${error.delay}ms`);\n}\n"],"names":["$8nrFW","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","addEventListener","e","preventDefault","delay","Number","$ce04d3a99e08e73b$var$formInputs","value","step","amount","position","$ce04d3a99e08e73b$var$createPromise","then","$ce04d3a99e08e73b$var$onSuccess","catch","$ce04d3a99e08e73b$var$onError","$parcel$interopDefault","children","forEach","child","firstElementChild","push","Promise","resolve","reject","setInterval","Math","random","result","$h6c0i","Notify","success","concat","error","failure"],"version":3,"file":"03-promises.73dbef00.js.map"}